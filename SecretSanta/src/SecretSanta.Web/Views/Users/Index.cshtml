@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

<section class="flex flex-wrap mb-6" x-data="SecretSanta.setupUsers()" x-init="mounted()">
    <script>
        var webHost = "@Configuration["WebHost"].TrimEnd('/')";
    </script>
    <template x-for="(currentUser, index) in users" :key="index">
        <section class="w-full md:w-1/3 sm:w-1/3">
            <a :href="`${webHost}/users/edit/${currentUser.id}`">
                <section
                    class="border-baby-blue-darker shadow-sm hover:shadow-xl border-2 p-6 m-5 bg-baby-blue-dumb-light rounded-xl justify-between">
                    <div class="inline-block font-light">
                        <span x-text="currentUser.firstName"></span> <span
                            x-text="currentUser.lastName"></span><br><span x-text="currentUser.email"></span>
                    </div>
                    <button class="-mt-6" @@click.prevent="deleteUser(currentUser)">
                        <i class="fas fa-trash text-gray-700 hover:text-red-700"></i>
                    </button>
                </section>
            </a>
        </section>
    </template>
</section>
<a class="ml-4 border-2  bg-baby-blue-lighter hover:bg-baby-blue-dark  py-2 px-4 rounded-xl" asp-action="Create">Create User</a>